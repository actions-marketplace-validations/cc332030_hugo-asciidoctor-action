
= git mirror action

== step

- add SECRETS with the name SSH_PRIVATE_KEY for git clone
- create a repo to save hugo public file, such as github pages repo
- add .github/workflows/hugo.yml into a repository with follow content
- push

[source,yaml]
----

name: hugo

on: [push, pull_request]

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - uses: cc332030/hugo-asciidoctor-action@1.0.0
        env:
          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
          USER: ${{ github.actor }}
          EMAIL: ${{ github.actor }}@gmail.com
          COMMAND: ssh -o LogLevel=ERROR -p 22 root@127.0.0.1 cd /usr/local/nginx/html && git pull > /dev/null 2>&1
        with:
          source-repo: git@github.com:${{ github.repository }}.git
          build-repo: git@github.com:${{ github.repository_owner }}/${{ github.repository_owner }}.github.io.git

----
